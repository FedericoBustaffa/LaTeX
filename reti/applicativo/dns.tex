\section{DNS}
Il servizio \textbf{DNS} non è un interattivo come quelli visti fino ad ora ma è fondamentale per
gli altri servizi per riuscire a funzionare correttamente. L'obbiettivo è quello di identificare i
processi destinatari.

Un \textbf{nome} identifica un host (per esempio \verb|www.google.it|) tramite un identificativo
logico e spesso mnemonico.

Un \textbf{indirizzo} identifica dove tale host è situato. I dispositivi connessi in rete vengono
individuati mediante i loro indirizzi IP composti da 4 byte.

Il DNS ha il compito di trovare un'associazione tra un certo nome e il relativo indirizzo IP. In
una fase iniziale tutti i nomi host e relativi IP erano contenuti in un file accessibile tramite
richiesta ad un server. Periodicamente gli host prelevavano una nuova versione aggiornata del file
dal server.

Ovviamente questo metodo è ad oggi inutilizzabile ed è così che è nato il DNS, il quale gira a
livello applicativo e sui sistemi terminali e adotta un paradigma di tipo client server e si affida
al protocollo di trasporto sottostante per trasferire messaggi tra i sistemi terminali.

\subsection{Funzionamento}
Il DNS entra in gioco quando lo user agent fa una richiesta ad una certa URL. La URL è un nome che
però non può essere utilizzato dal protocollo di trasporto (che necessità un indirizzo IP), ecco
che, una volta composta la richiesta, il DNS \emph{risolve} il nome in un indirizzo IP, permettendo
così l'apertura di una connessione TCP.

Il DNS è quindi un meccanismo che deve:
\begin{itemize}
	\item Specificare la sintassi dei nomi e le regole per gestirli.
	\item Consentire la conversione da nomi a indirizzi e viceversa.
\end{itemize}
\`E quindi costituito da
\begin{itemize}
	\item Uno \textbf{schema di assegnazione} dei nomi gerarchico e basato su domini.
	\item Un \textbf{database distribuito} contenente i nomi e le corrispondenze con gli indirizzi
	      IP implementato con una gerarchia di \textbf{name server}.
	\item Un \textbf{protocollo} per la distribuzione delle informazioni sui nomi tra name server.
	      Host, router e name server comunicano per la risoluzione dei nomi.
\end{itemize}

\subsection{Spazio dei nomi}
Lo \textbf{spazio dei nomi} deve permettere di identificare in modo univoco un host e ha un tipo
di struttura \textbf{gerarchica}:
\begin{itemize}
	\item Un nome è costituito da più parti.
	      \begin{center} \verb|lab3.di.unipi.it| \end{center}
	\item L'assegnazione dei nomi è delegabile.
	\item C'è una delega dell'autorità per l'assegnazione delle varie parti dello spazio dei nomi.
	\item La responsabilità della conversione tra nomi e indirizzi e distribuita.
\end{itemize}
Vista la struttura gerarchica, è possibile strutturare lo spazio dei nomi come un albero i cui
nodi individuano un nome di dominio. Il \textbf{dominio} è il sottoalbero nello spazio dei nomi di
dominio che viene identificato dal nome di dominio del nodo in cima al sottoalbero.

\subsubsection{Nomi di dominio}
In Internet i nomi gerarchici delle macchine sono assegnati in base alla struttura delle
organizzazioni che ottengono l'autorità per porzioni dello spazio dei nomi.

La struttura gerarchica permette autonomia nella scelta dei nomi all'interno di un dominio.

\subsection{Name Server}
Il DNS, di fatto, è un database distribuito, implementato in una gerarchia di più name server. Il
name server invece è il programma che gestisce la conversione da nome a indirizzo IP. Grazie alla
gerarchia dei domini possiamo distribuire le informazioni su più name server.

Una \textbf{zona} è una parte (tipicamente contigua) dell'albero, di cui è responsabile un name
server. Zona e dominio non necessariamente coincidono.

\subsubsection{Tipologie di name server}
I name server, in base a quali domini gestiscono nella gerarchia, hanno caratteristiche differenti:
\begin{itemize}
	\item \textbf{Radice}: si trovano alla radice dell'albero e sono responsabili dei record della
	      zona radice. Tali server mantengono le informazioni sui name server di primo livello
	      (top-level domain).
	\item \textbf{Server di top-level domain}: mantengono le informazioni di un certo dominio di
	      top-level e restituiscono informazioni sui name server di competenza dei sottodomini.
	\item \textbf{Server di competenza}: sono i server di \textbf{autorità} per una certa zona che
	      memorizzano nome e indirizzo IP di un insieme di host (di cui possono effettuare la
	      traduzione nome/indirizzo). Per una certa zona ci possono essere server di competenza
	      \begin{itemize}
		      \item \textbf{Primari}: mantengono il file di zona.
		      \item \textbf{Secondari}: ricevono il file di zona e offrono il servizio di
		            risoluzione. Sono utilizzati per la scalabilità del sistema.
	      \end{itemize}
\end{itemize}
