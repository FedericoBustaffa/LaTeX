\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{../packages/codestyle}

\RequirePackage{xcolor}

\definecolor{bg}{rgb}{0.9, 0.9, 0.9}
\definecolor{t}{rgb}{0.1, 0.1, 0.1}
\definecolor{k}{rgb}{0.2, 0.3, 1.0}
\definecolor{s}{rgb}{1, 0.5, 0.0}
\definecolor{c}{rgb}{0.5, 0.5, 0.5}

\RequirePackage{listings}

\renewcommand{\ttdefault}{pcr}
\lstset{
	backgroundcolor=\color{bg},
	basicstyle=\small\ttfamily\color{t},
	keywordstyle=\color{k}\bfseries,
	stringstyle=\color{s},
	showstringspaces=false,
	commentstyle=\color{c},
	numberstyle=\scriptsize,
	breaklines=true,
	frame=single,
	numbers=left,
	tabsize=2
}

% PSEUDO CODICE
\lstdefinelanguage{pseudo}{
	sensitive=true,
	% Keywords
	morekeywords={
		if, then, else, for, foreach, in, do, while,
		and, or, not, return, true, false, null
	},
	% Strings
	morestring=[b]",
	% Comments
	morecomment=[l]//,
	morecomment=[s]{/*}{*/}
}

\lstdefinestyle{pseudo-style}{
	language=pseudo,
	backgroundcolor=\color{bg},
	basicstyle=\small\ttfamily\color{black},
	keywordstyle=\bfseries\color{black}
}

% PYTHON
\lstdefinelanguage{python}{
	sensitive=true,
	% Keywords
	keywords={
		import, from, in, while, for, if, elif, else, try, except, is, not, 
		def, True, False, None, return
	},
	% Strigs
	morestring=[b]",
	morestring=[b]',
	% comments
	morecomment=[l]{\#}
}

% HTML
\lstdefinelanguage{html5}{
	language=html,
	sensitive=true,
	alsoletter={<>=-},
	morecomment=[s]{<!-}{-->},
	tag=[s],
	otherkeywords={
			% Standard tags
			!DOCTYPE, html, head, title, style, link, meta, body,
			% Divs
			div,
			% scripts
			script,
			% More tags...
			canvas, svg, rect, animateTransform, video, source, iframe,
			image, header, article
		}
}

% JavaScript
\lstdefinelanguage{javascript}{
	morekeywords={
		typeof, new, true, false, catch, function, return, null, catch, switch,
		var, if, in, while, do, else, case, break
	},
	morecomment=[s]{/*}{*/},
	morecomment=[l]//,
	morestring=[b]",
	morestring=[b]',
	morestring=[b]`
}

\lstnewenvironment{pseudo}{\lstset{language=pseudo, style=pseudo-style}}{}
\lstnewenvironment{python}{\lstset{language=python}}{}
\lstnewenvironment{html}{\lstset{language=html5}}{}
\lstnewenvironment{javascript}{\lstset{language=javascript}}{}
